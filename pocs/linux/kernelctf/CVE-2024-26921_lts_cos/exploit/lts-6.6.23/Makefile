INCLUDES = -I/usr/include/libnl3
LIBS = -L. -pthread -lnl-cli-3 -lnl-route-3 -lnl-3 -ldl
CFLAGS = -fomit-frame-pointer -static -fcf-protection=none

exploit: exploit.c kernelver_6.6.23.h kaslr.c
	gcc -o $@ exploit.c kaslr.c $(INCLUDES) $(CFLAGS) $(LIBS)
	objcopy --add-section tools=tools.tar.gz $@

prerequisites:
	sudo apt-get install libnl-cli-3-dev libnl-route-3-dev
